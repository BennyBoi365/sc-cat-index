<!DOCTYPE html>
<html>
<head>
	<!-- This title is used for tabs and bookmarks -->
	<title>Santa Cruz Cat Index</title>

	<!-- Use UTF character set, a good idea with any webpage -->
  	<meta charset="UTF-8" />
	<!-- Set viewport so page remains consistently scaled w narrow devices -->
  	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
	<!-- Lab-specifc CSS file for any special styling of this particular page -->
	<link rel="stylesheet" type="text/css" href="cat-index.css">

    <!-- CSS Link to Leaflet Map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>

    <!-- JS Link to Leaflet Map -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>

    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
	
	<!-- load jQuery library to make javascript easier (must be above our lab js)-->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
	<!-- Link to javascript file - DEFER waits until all elements are rendered -->
	<script type="text/javascript" src="cat-index.js" DEFER></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
</head>
<h1 style="text-shadow: -1px -1px 0 #6a5858, 1px -1px 0 #000,
          -1px 1px 0 #371405, 5px 5px 0 #39291d; color:#DDC3D0; background-size: 50%;" id="webtitle"> The Santa Cruz Cat Index</h1> 
          


<body>
	<!-- Style this page by changing the CSS in ../css/site.css or css/lab.css -->
	<main id="content">
        <div id="wrapper">
            <div id="column1-1">
                 <div class="minor-section1">
                    <h1>Welcome</h1>
                    <p>Hello and welcome to your friendly neighborhood cat index! The goal of this 
                        website is to help connect cat lovers to friendly cats near them, 
                        creating a new community of feline-caretakers. Right now, our map is limited 
                        to Santa Cruz, CA, but we are looking to expand the map as far as we can.
                    </p>
                 </div>
            </div>
            <div id="column1-2">
                <div class="minor-section2">
                    <h1>Navigation and How To</h1>
                    <p>To input a cat into our system, scroll to the bottom of this page and answer
                        the questions below. Enter honestly and make sure to input the last 
                        coordinates you saw your feline-friend! If you would like, please upload a photo of the cat as well but please make sure to respect your neighbors privacy. Thanks!
                    </p>
                 </div>
             </div>
        </div>

    <section> <div id="map"></div> </section>
     <div id="wrapper2">
            <div id="output"></div>
			<div id="cat-details">
                <div id="column2-1">
             <div class="minor-section3">
                <h2>Upload a Photo of Your Cat!<h2>
                    <form id="uploadForm">
                        <label for="imageUpload">Choose and image!</label>
                        <input type="file" id="imageUpload" accept="image/*">
                    </form>
                <h3>Preview:</h3>
                <div id="imagePreview">
                    <img id="previewIMG" src="" alt="Image preview will appear here" style="display: none; max-width: 100%;"/>
                </div>
                <button id="uploadBtn" style="margin-top: 20px;">Upload to Firebase</button>
                
                 </div>
                </div>
            </div>
            <div id="column2-2">
            <div class="minor-section4">
                <p>Name</p>
                <input type="text" id="catName" placeholder="Cat's Name">
                <p>Breed</p>
                <select id="breedOptions">
                    <option value=""></option>
                    <option value="Calico">Calico</option>
                    <option value="Shorthair">Shorthair</option>
                    <option value="Persian">Persian</option>
                    <option value="Tortoiseshell">Tortoiseshell</option>
                    <option value="Ragdoll">Ragdoll</option>
                    <option value="Siamese">Siamese</option>
                    <option value="Maine Coon">Maine Coone</option>
                    <option value="Sphynx">Sphynx</option>
                    <option value="">Other</option>
                </select>
               
                <input type="text" id="otherBreed" placeholder="Other Breed" style="display: none;">

                <p>Color/Pattern</p>
                <select id="catColor" placeholder="Cat's Color">
                    <option value=""></option>
                    <option value="Black">Black</option>
                    <option value="White">White</option>
                    <option value="Grey">Grey</option>
                    <option value="Orange">Orange</option>
                    <option value="Spotted">Spotted</option>
                    <option value="Striped">Striped</option>
                </select>

                <p>Tags?</p>
                <select id="tagsYesOrNo">
                    <option value=""></option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>

                <p>Fed?</p>
                <select id="lastFed">
                    <option value=""></option>
                    <option value="Just fed">Just Fed</option>
                    <option value="Fed recently">Fed Recently</option>
                    <option value="Not recently">Hungry</option>
                </select>

                <p>Friendly?</p>
                <select id="friendlyYesOrNo">
                    <option value=""></option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>

                <p>Location</p>
                <input id="latitude" type="number" placeholder="Latitude">
                <input id="longitude" type="number" placeholder="Longitude">

                <button id="submit">Submit</button>
            </div>
             <!--<head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Map with Droppable Pins</title>
                <style>
                    #map-container {
                        position: relative;
                        width: 800px;  /* Set to map's width */
                        height: 600px; /* Set to map's height */
                        background-image: url('your-map-image.jpg');  /* Ensure this is the correct path */
                        background-size: cover;
                        border: 2px solid #000;
                    }
                    .pin {
                        position: absolute;
                        width: 30px;
                        height: 30px;
                        background-image: url('pin-icon.png');  /* Ensure this is the correct path */
                        background-size: cover;
                        cursor: pointer;
                    }
                </style>
             </head>
             <body>
            
             <div id="map-container"></div>
             -->
             <!-- Embedded JavaScript at the end of the body -->
             <!--
             <script>
                const mapContainer = document.getElementById("map-container");
                
                // Fetch existing pins from the backend when the page loads
                window.onload = () => {
                    fetchPins();
                };
            
                // Handle mouse clicks to place pins
                mapContainer.addEventListener('click', (event) => {
                    const mapRect = mapContainer.getBoundingClientRect();
                    const x = event.clientX - mapRect.left;
                    const y = event.clientY - mapRect.top;
                    
                    // Create a new pin element
                    const pin = document.createElement('div');
                    pin.classList.add('pin');
                    pin.style.left = `${x - 15}px`;  // Offset to center pin
                    pin.style.top = `${y - 15}px`;   // Offset to center pin
            
                    // Append the pin to the map container
                    mapContainer.appendChild(pin);
            
                    // Save pin data to the backend
                    savePin(x, y);
                });
            
                // Fetch and render all existing pins
                function fetchPins() {
                    fetch('/api/getPins')  // Example API endpoint
                        .then(response => response.json())
                        .then(pins => {
                            pins.forEach(pin => {
                                const pinElement = document.createElement('div');
                                pinElement.classList.add('pin');
                                pinElement.style.left = `${pin.x - 15}px`;
                                pinElement.style.top = `${pin.y - 15}px`;
                                mapContainer.appendChild(pinElement);
                            });
                        });
                }
            
                // Save a new pin to the backend
                function savePin(x, y) {
                    fetch('/api/savePin', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ x, y })
                    })
                    .then(response => response.json())
                    .then(data => {
                        console.log('Pin saved successfully:', data);
                    })
                    .catch(error => {
                        console.error('Error saving pin:', error);
                    });
                }
             </script>
            
             </body>
             </html> -->
            </div>
        </div>
    </div>
        
    <nav id="links">
        <!-- Put links to other pages (including the homepage) here. -->
         <ul>
            <li><a href="cat-index.js">&lt;&lt; Here's our JavaScript source &gt;&gt;</a></li>
         </ul>
    </nav>
    </main>
</body>
</html>